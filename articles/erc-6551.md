# ERC-6551

**ERC-6551** (Token Bound Accounts) is an [[Ethereum]] standard that assigns smart contract accounts to [[NFT|NFTs]], enabling non-fungible tokens to own assets, interact with [[dApps]], and act as autonomous on-chain agents. Created in February 2023, the standard has become foundational infrastructure for [[AI agents]], gaming characters, and complex digital asset composition.

## Overview

ERC-6551 defines a system where every ERC-721 token automatically has a corresponding smart contract account at a deterministic address. This "token bound account" (TBA) is controlled by whoever owns the NFT—when the NFT transfers, control of the account and all its assets transfers with it.

The standard consists of two components:
1. **A singleton registry contract** deployed at a canonical address across all EVM chains
2. **An account interface** that implementations must follow

## Technical Architecture

### The Registry

The ERC-6551 registry is a permissionless, immutable contract deployed at `0x000000006551c19487814612e58FE06813775758` across all supported chains. It provides two functions:

```solidity
function createAccount(
    address implementation,
    bytes32 salt,
    uint256 chainId,
    address tokenContract,
    uint256 tokenId
) external returns (address account);

function account(
    address implementation,
    bytes32 salt,
    uint256 chainId,
    address tokenContract,
    uint256 tokenId
) external view returns (address account);
```

### Account Derivation

Token bound account addresses are computed deterministically using create2:
- Implementation address (the account logic contract)
- Salt (for multiple accounts per NFT)
- Chain ID
- Token contract address
- Token ID

This enables **counterfactual accounts**—assets can be sent to an account before it's deployed, with the NFT holder always able to claim them.

### Account Implementation

Token bound accounts are deployed as [[ERC-1167]] minimal proxies pointing to an implementation contract. The implementation must support:

- **IERC6551Account**: Core interface with `token()`, `state()`, and `isValidSigner()`
- **IERC6551Executable**: Execution interface for arbitrary operations
- **ERC-165**: Interface detection
- **ERC-1271**: Signature validation

## Relevance to AI Agents

ERC-6551 has emerged as critical infrastructure for on-chain [[AI agents]]:

### Agent-as-NFT Pattern
AI agents can be represented as NFTs, with their token bound accounts serving as:
- **Treasury**: Holding ETH, tokens, and other assets the agent manages
- **Identity**: A persistent address for receiving payments and interacting with protocols
- **Capability container**: Holding access credentials, membership NFTs, or permission tokens

### Composable Agent Architecture
Agents can own other NFTs, each with their own TBAs, enabling:
- Hierarchical agent structures (manager agents owning worker agents)
- Modular capabilities (skill NFTs granting specific abilities)
- Transferable agent portfolios (entire agent systems traded as single NFTs)

### Practical Applications
- **[[Virtuals Protocol]]** uses ERC-6551 for tokenized AI agents with their own wallets
- Gaming NPCs accumulate items and currency in their TBAs
- Autonomous trading agents operate through NFT-owned accounts

## Cross-Chain Functionality

The inclusion of `chainId` in account derivation enables powerful cross-chain patterns:

1. An NFT on Ethereum can control accounts on [[Base]], [[Optimism]], and other chains
2. Account implementations can verify NFT ownership across chains
3. The same NFT-to-account mapping exists deterministically everywhere

## Security Considerations

### Fraud Prevention
When purchasing NFTs with valuable TBAs, buyers must verify account contents haven't been withdrawn between listing and sale. Solutions include:
- Marketplace-level state checks
- Account locking mechanisms
- Commitment schemes

### Ownership Cycles
If an NFT is transferred to its own TBA, both become permanently inaccessible. Applications should implement safeguards against circular ownership.

## Current State (Early 2026)

ERC-6551 has achieved widespread adoption:

- **8+ million** token bound accounts created across chains
- Native integration in major NFT marketplaces ([[OpenSea]], [[Blur]])
- Default infrastructure for AI agent tokenization platforms
- Supported on all major [[Layer 2]] networks
- Multiple audited implementation options (Tokenbound, Safe-based, custom)

The standard continues evolving with proposals for:
- Nested account permissions
- Cross-chain account messaging
- Standardized agent capability schemas

## See Also

- [[NFT]]
- [[AI Agents]]
- [[Smart Contract Wallets]]
- [[Virtuals Protocol]]
- [[Account Abstraction]]

## References

1. Ethereum Improvement Proposals. "ERC-6551: Non-fungible Token Bound Accounts." https://eips.ethereum.org/EIPS/eip-6551. Accessed February 2026.
2. Tokenbound. Reference Implementation. https://github.com/tokenbound
3. Future Primitive. ERC-6551 Specification. February 2023.
